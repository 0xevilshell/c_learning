#include <stdio.h>
#include <stdlib.h>

int main() {
    int pr = 10;          // Обычная переменная
    int *ptr = &pr;       // Указатель на p
    int **pptr = &ptr;   // Двойной указатель на ptr

    // Вывод значений для наглядности
    printf("Значение pr: %d\n", pr);
    printf("Значение через ptr: %d\n", *ptr);
    printf("Значение через pptr: %d\n", **pptr);

    // Выделение памяти для одного целого числа
    int* p = malloc(sizeof(int));
    if (p == NULL) {
        perror("Не удалось выделить память");
        return 1;
    }
    *p = 42;

    // Создание двойного указателя, указывающего на p
    int **pp = &p; 

    // Правильное использование спецификаторов формата и разыменования
    printf("%d\n", *p);       // Выводит 42
    printf("%p\n", (void*)p); // Выводит адрес, на который указывает p
    printf("%p\n", (void*)pp); // Выводит адрес переменной p
    printf("%d\n", **pp);     // Выводит 42 через двойное разыменование

    // Освобождение выделенной памяти
    free(p); 

    return 0;
}
